/**
 * EasyUI for Angular 0.4
 * 
 * Copyright (c) 2009-2017 www.jeasyui.com. All rights reserved.
 *
 * Licensed under the freeware license: https://www.jeasyui.com/license_freeware2.php
 * To use it on other terms please contact us: info@jeasyui.com
 *
 */
var __extends=this&&this.__extends||function(){var extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();import{Component,Input,Output,EventEmitter,ElementRef}from"@angular/core";import{PanelComponent,PANEL_TEMPLATE}from"../panel/panel.component";import{domHelper}from"../base/domhelper";var DialogComponent=function(_super){function DialogComponent(hostRef){var _this=_super.call(this,hostRef)||this;return _this.hostRef=hostRef,_this.title=null,_this.border=!1,_this.borderType="thick",_this.closable=!0,_this.modal=!1,_this.onOpen=new EventEmitter,_this.onClose=new EventEmitter,_this.maskEl=null,_this.initialized=!1,_this._panelCls=null,_this._headerCls=null,_this._bodyCls=null,_this._footerCls=null,_this._closed=!1,_this}return __extends(DialogComponent,_super),Object.defineProperty(DialogComponent.prototype,"panelCls",{get:function(){var cls="window window-shadow";return"none"==this.borderType?cls+=" window-thinborder window-noborder":"thin"==this.borderType&&(cls+=" window-thinborder"),cls+=this._panelCls?" "+this._panelCls:""},set:function(value){this._panelCls=value},enumerable:!0,configurable:!0}),Object.defineProperty(DialogComponent.prototype,"headerCls",{get:function(){var cls="window-header";return cls+=this._headerCls?" "+this._headerCls:""},set:function(value){this._headerCls=value},enumerable:!0,configurable:!0}),Object.defineProperty(DialogComponent.prototype,"bodyCls",{get:function(){var cls="window-body";return this.hasHeader||(cls+=" window-body-noheader"),cls+=this._bodyCls?" "+this._bodyCls:""},set:function(value){this._bodyCls=value},enumerable:!0,configurable:!0}),Object.defineProperty(DialogComponent.prototype,"footerCls",{get:function(){var cls="window-footer";return cls+=this._footerCls?" "+this._footerCls:""},set:function(value){this._footerCls=value},enumerable:!0,configurable:!0}),Object.defineProperty(DialogComponent.prototype,"closed",{get:function(){return this._closed},set:function(value){this._closed!=value&&(this._closed=value,this.initialized&&(this.initDialog(),this._closed?this.onClose.emit():this.onOpen.emit()))},enumerable:!0,configurable:!0}),DialogComponent.prototype.ngAfterViewInit=function(){this.initialized=!0,this.initDialog()},DialogComponent.prototype.ngOnDestroy=function(){this.closeMask(),this.panelRef&&this.hostRef.nativeElement.appendChild(this.panelRef.nativeElement)},DialogComponent.prototype.initDialog=function(){var _this=this;this.closed?this.closeMask():this.panelRef?(document.body.appendChild(this.panelRef.nativeElement),this.openMask()):setTimeout(function(){_this.panelRef&&(document.body.appendChild(_this.panelRef.nativeElement),_this.openMask())})},DialogComponent.prototype.openMask=function(){this.modal&&!this.maskEl&&(this.maskEl=document.createElement("div"),domHelper.addClass(this.maskEl,"window-mask"),document.body.appendChild(this.maskEl)),this.moveToTop(),this.panelStyle?(this.panelStyle.hasOwnProperty("left")||this.hcenter(),this.panelStyle.hasOwnProperty("top")||this.vcenter()):this.center()},DialogComponent.prototype.closeMask=function(){this.maskEl&&(document.body.removeChild(this.maskEl),this.maskEl=null)},DialogComponent.prototype.open=function(){this.closed=!1},DialogComponent.prototype.close=function(){this.closed=!0},DialogComponent.prototype.moveToTop=function(){this.maskEl&&(this.maskEl.style.zIndex=String(DialogComponent.zIndex++)),this.panelRef&&(this.panelRef.nativeElement.style.zIndex=String(DialogComponent.zIndex++))},DialogComponent.prototype.hcenter=function(){if(this.panelRef){var view=domHelper.getViewport(),width=domHelper.outerWidth(this.panelRef.nativeElement),left=(view.width-width)/2;this.panelRef.nativeElement.style.left=left+"px"}},DialogComponent.prototype.vcenter=function(){if(this.panelRef){var view=domHelper.getViewport(),height=domHelper.outerHeight(this.panelRef.nativeElement),scrollTop=domHelper.getScrollTop(),top_1=(view.height-height)/2+scrollTop;this.panelRef.nativeElement.style.top=top_1+"px"}},DialogComponent.prototype.center=function(){this.hcenter(),this.vcenter()},DialogComponent}(PanelComponent);export{DialogComponent};DialogComponent.zIndex=9e3,DialogComponent.decorators=[{type:Component,args:[{selector:"eui-dialog",template:PANEL_TEMPLATE,host:{class:"f-column"}}]}],DialogComponent.ctorParameters=function(){return[{type:ElementRef}]},DialogComponent.propDecorators={title:[{type:Input}],border:[{type:Input}],borderType:[{type:Input}],closable:[{type:Input}],modal:[{type:Input}],onOpen:[{type:Output,args:["open"]}],onClose:[{type:Output,args:["close"]}],panelCls:[{type:Input}],headerCls:[{type:Input}],bodyCls:[{type:Input}],footerCls:[{type:Input}],closed:[{type:Input}]};